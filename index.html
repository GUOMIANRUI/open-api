<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>机器人服务生开放接口文档 | 机器人服务生开放接口文档</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/open-api/assets/css/0.styles.c3913512.css" as="style"><link rel="preload" href="/open-api/assets/js/app.f02834f0.js" as="script"><link rel="preload" href="/open-api/assets/js/2.c9ee0c9e.js" as="script"><link rel="preload" href="/open-api/assets/js/5.f6565a62.js" as="script"><link rel="prefetch" href="/open-api/assets/js/3.7b172189.js"><link rel="prefetch" href="/open-api/assets/js/4.d592681e.js"><link rel="prefetch" href="/open-api/assets/js/6.ff34924e.js">
    <link rel="stylesheet" href="/open-api/assets/css/0.styles.c3913512.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/open-api/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">机器人服务生开放接口文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>机器人服务生开放接口文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/open-api/#调用方式" class="sidebar-link">调用方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#请求结构" class="sidebar-link">请求结构</a></li><li class="sidebar-sub-header"><a href="/open-api/#公共参数" class="sidebar-link">公共参数</a></li><li class="sidebar-sub-header"><a href="/open-api/#计算签名" class="sidebar-link">计算签名</a></li><li class="sidebar-sub-header"><a href="/open-api/#返回结果" class="sidebar-link">返回结果</a></li></ul></li><li><a href="/open-api/#订单" class="sidebar-link">订单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#创建商品订单" class="sidebar-link">创建商品订单</a></li><li class="sidebar-sub-header"><a href="/open-api/#根据订单号查询订单" class="sidebar-link">根据订单号查询订单</a></li></ul></li><li><a href="/open-api/#商品" class="sidebar-link">商品</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#获取全部商品列表" class="sidebar-link">获取全部商品列表</a></li><li class="sidebar-sub-header"><a href="/open-api/#获取客用品代码列表" class="sidebar-link">获取客用品代码列表</a></li></ul></li><li><a href="/open-api/#用户" class="sidebar-link">用户</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#创建用户标识" class="sidebar-link">创建用户标识</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="机器人服务生开放接口文档">机器人服务生开放接口文档</h1> <h2 id="调用方式">调用方式</h2> <h3 id="请求结构">请求结构</h3> <h4 id="接入地址">接入地址</h4> <p>开放接口服务的接入地址为：<code>https://open-api.yunjiai.cn</code></p> <h4 id="通信协议">通信协议</h4> <p>为了保证通信的安全性，开放接口服务仅支持HTTPS安全通道发送请求。</p> <h4 id="http请求方法">HTTP请求方法</h4> <p>接口支持HTTP POST方法发送请求</p> <h4 id="请求参数">请求参数</h4> <p>每个请求都需要指定如下信息：</p> <ul><li>操作接口所特有的请求参数。</li></ul> <h3 id="公共参数">公共参数</h3> <h4 id="公共请求参数">公共请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必需</th> <th>描述</th></tr></thead> <tbody><tr><td>signature</td> <td>String</td> <td>是</td> <td>消息签名</td></tr> <tr><td>signatureNonce</td> <td>String</td> <td>是</td> <td>唯一随机数</td></tr> <tr><td>accessKeyId</td> <td>String</td> <td>是</td> <td>访问秘钥</td></tr> <tr><td>timestamp</td> <td>String</td> <td>是</td> <td>请求时间戳，日期格式按照ISO8601标准表示，并需要使用UTC时间。格式为：YYYY-MM-DDThh:mm:ssZ</td></tr></tbody></table> <h4 id="公共返回参数">公共返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>请求ID.无论成功与否，系统都会返回一个唯一的识别码给用户。此参数用于识别每一次请求</td></tr></tbody></table> <h4 id="请求示例">请求示例</h4> <h4 id="返回示例">返回示例</h4> <div class="language-json extra-class"><pre class="language-json"><code>｛
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span>
 ｝
</code></pre></div><h3 id="计算签名">计算签名</h3> <p>开放平台会对每一个访问的请求进行身份认证，每一个请求都需要在请求中包含签名信息。通过机器人服务生系统颁发的<code>accessKeyId</code>和<code>accessKeySecret</code>进行对称加密的方法来验证请求的发送者身份，其中accessKeyId用于标识访问者的身份，accessKeySecret用于加密签名字符串和服务器端验证签名字符串的秘钥，请开发者妥善保管，以防泄露。</p> <h4 id="操作步骤">操作步骤</h4> <ul><li>使用请求参数构造规范化的请求字符串，特别注意以下规则：
<ul><li>对参数按照key=value的格式，并按照参数名ASCII字典序，排序参数包括公共参数和接口自定义参数。不包括公共请求参数中的<strong>signature</strong>参数；</li> <li>如果参数的值为空不参与签名；</li> <li>参数名区分大小写；</li></ul></li> <li>计算签名HMAC值。注意计算签名时使用的Key就是用户持有的<code>accessKeySecret</code>并加上一个“&amp;”字符(ASCII:38),使用的哈希算法是SHA1。</li> <li>按照Base64编码规则将HMAC值编码成字符串，得到签名值。</li> <li>将签名值作为<code>signature</code>添加到请求参数中。</li></ul> <h4 id="执行示例">执行示例</h4> <p>以CreateUser为例，假设传送的参数如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>

    <span class="token property">&quot;signatureNonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53c593e7-766d-4646-8b58-0b795ded0ed6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accessKeyId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testid&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-10T08:26:01Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>对参数按照key=value的格式，并按照参数名ASCII字典序排序如下：
&quot;accessKeyId=testid&amp;current=1&amp;pageSize=20&amp;signatureNonce=53c593e7-766d-4646-8b58-0b795ded0ed6&amp;timestamp=2019-10-10T08:26:01Z&quot;</li></ul> <p>对应的规范化请求字符串为：
<code>1926466a30c065e800d8b1e53cd5b457e8694de2</code></p> <p>假设accessKeyId为testId，accessKeySecret为:testsecret,则用于计算的HMAC的key为：testsecret&amp;。
计算得到的签名值为：<code>kRA2cnpJVacIhDMzXnoNZG9tDCI</code></p> <p>最终得到的发送数据为：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1926466a30c065e800d8b1e53cd5b457e8694de2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signatureNonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53c593e7-766d-4646-8b58-0b795ded0ed6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accessKeyId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testId&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-10T08:26:01Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="返回结果">返回结果</h3> <h4 id="成功结果">成功结果</h4> <p>调用开放平台API后，如果返回的HTTP状态码为:<code>2xx</code>,代表调用成功。</p> <ul><li>返回示例</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="错误结果">错误结果</h4> <p>如果返回的HTTP状态码为: <code>4xx</code>或<code>500</code>,代表调用失败，系统将不会返回结果数据。此时，返回的消息体中包含:具体的错误代码、错误信息、全局唯一的请求id.</p> <ul><li>返回示例</li></ul> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token punctuation">{</span>
      <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10086</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;action is not valid&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="订单">订单</h2> <h3 id="创建商品订单">创建商品订单</h3> <p>根据所选商品id创建订单，返回订单唯一标识符</p> <blockquote><p>POST /v1/order/createPoiOrder</p></blockquote> <h4 id="请求参数-2">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>userId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>用户唯一标识，可通过创建用户接口创建</td></tr> <tr><td>orderFormInfo</td> <td>List&lt;OrderFormInfoType&gt;</td> <td>是</td> <td></td> <td>订单信息</td></tr> <tr><td>thirdPayType</td> <td>Int</td> <td>是</td> <td>3</td> <td>3：预付</td></tr> <tr><td>contactInfo</td> <td>ContactInfoType</td> <td>是</td> <td></td> <td>订单联系人信息</td></tr></tbody></table> <h4 id="orderforminfotype参数说明">OrderFormInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品Id</td></tr> <tr><td>quantity</td> <td>Int</td> <td>是</td> <td>1</td> <td>商品购买数量</td></tr></tbody></table> <h4 id="contactinfotype参数说明">ContactInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>recipientAddress</td> <td>String</td> <td>是</td> <td>0701</td> <td>酒店唯一房间编号，应与机器人点位一一对应，如对应不上，将返回报错</td></tr> <tr><td>recipientPhone</td> <td>String</td> <td>否</td> <td>16612561256</td> <td>预订人手机号</td></tr> <tr><td>recipientName</td> <td>String</td> <td>否</td> <td>张三</td> <td>预订人姓名</td></tr></tbody></table> <h4 id="返回数据">返回数据</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>orderInfo</td> <td>OrderInfoType</td> <td></td> <td>订单信息</td></tr></tbody></table> <h4 id="orderinfotype参数说明">OrderInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单号</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>创建时间</td></tr></tbody></table> <h4 id="示例">示例</h4> <p>请求示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;orderFormInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;thirdPayType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contactInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;recipientAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0821&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/* 公共请求参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="根据订单号查询订单">根据订单号查询订单</h3> <blockquote><p>GET /v1/order/queryByOrderSN</p></blockquote> <h4 id="请求参数-3">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>是</td> <td>1274692748</td> <td>订单号</td></tr></tbody></table> <h4 id="返回参数">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>orderInfo</td> <td>OrderInfoType</td> <td></td> <td>订单ID</td></tr></tbody></table> <h4 id="orderinfotype参数说明-2">OrderInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>1467803671</td> <td>订单唯一标识</td></tr> <tr><td>orderName</td> <td>String</td> <td>矿泉水 * 1</td> <td>订单名称</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>订单创建时间</td></tr> <tr><td>orderStatus</td> <td>Int</td> <td>0</td> <td>订单若无退订，订单最终状态为成交</td></tr> <tr><td>orderItemInfos</td> <td>List&lt;OrderItemInfoType&gt;</td> <td></td> <td>订单项信息</td></tr> <tr><td>orderTaskInfos</td> <td>List&lt;orderTaskInfoType&gt;</td> <td></td> <td>订单任务信息</td></tr> <tr><td>orderBasicInfo</td> <td>OrderBasicInfoType</td> <td></td> <td>订单基本信息</td></tr> <tr><td>extendProperty</td> <td>ExtendPropertyType</td> <td></td> <td>订单扩展信息</td></tr></tbody></table> <h4 id="orderiteminfotype参数说明">OrderItemInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>图片地址</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品id</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productType</td> <td>Int</td> <td>1</td> <td>商品类型:1-普通商品,2-赠品,3-客需品</td></tr> <tr><td>amount</td> <td>Decimal</td> <td>3.00</td> <td>商品总卖价</td></tr> <tr><td>quantity</td> <td>Int</td> <td>2</td> <td>数量</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>1.50</td> <td>单价</td></tr></tbody></table> <h4 id="ordertaskinfotype参数说明">orderTaskInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderTaskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>订单子任务Id</td></tr> <tr><td>detail</td> <td>List&lt;DetailType&gt;</td> <td></td> <td>备注</td></tr> <tr><td>processStatus</td> <td>Int</td> <td>1</td> <td>任务状态</td></tr> <tr><td>taskType</td> <td>Int</td> <td>1</td> <td>任务类型,0-发货员协同派送 1-机器人自动派送 2-货柜机器人派送 3-无需派送</td></tr></tbody></table> <h4 id="detailtype参数说明">DetailType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>商品缩略图</td></tr> <tr><td>quantity</td> <td>Int</td> <td>1</td> <td>商品数量</td></tr></tbody></table> <h4 id="orderbasicinfotype参数说明">OrderBasicInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>amount</td> <td>Decimal</td> <td>1.50</td> <td>原始下单总价(不变)</td></tr></tbody></table> <h4 id="extendpropertytype参数说明">ExtendPropertyType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>recipientAddress</td> <td>String</td> <td>0801</td> <td>房间号</td></tr> <tr><td>recipientPhone</td> <td>String</td> <td>12312341234</td> <td>收货人电话</td></tr> <tr><td>recipientName</td> <td>String</td> <td>张三</td> <td>若用户没有填写姓名，此字段默认为空</td></tr></tbody></table> <h4 id="订单状态对应关系">订单状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>未付款</td></tr> <tr><td>1</td> <td>待发货</td></tr> <tr><td>2</td> <td>待收货</td></tr> <tr><td>3</td> <td>已收货</td></tr> <tr><td>5</td> <td>已取消</td></tr> <tr><td>6</td> <td>退款中</td></tr> <tr><td>7</td> <td>已退款</td></tr> <tr><td>8</td> <td>已关闭</td></tr></tbody></table> <h4 id="任务状态对应关系">任务状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>排队中</td></tr> <tr><td>1</td> <td>送货中</td></tr> <tr><td>3</td> <td>任务取消</td></tr> <tr><td>4</td> <td>用户未取物</td></tr> <tr><td>5</td> <td>取货中</td></tr> <tr><td>6</td> <td>已取货</td></tr> <tr><td>7</td> <td>任务异常</td></tr> <tr><td>8</td> <td>任务失败</td></tr></tbody></table> <h4 id="示例-2">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/order/queryByOrderSN?orderSN=32938472&amp;signatureNonce=349sjf2j334j&amp;timestamp=1243324234&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水 * 1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderStatus&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderItemInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/sd23.png&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
                <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">2.50</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderTaskInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;orderTaskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;processStatus&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taskType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderBasicInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;extendProperty&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;recipientAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0801&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="商品">商品</h2> <h3 id="获取全部商品列表">获取全部商品列表</h3> <p>获取产品列表，注意：支持分页，每页最多返回100条,默认值为20,页码从1开始，默认为第一页</p> <blockquote><p>GET /v1/goods/queryByStore</p></blockquote> <h4 id="请求参数-4">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>pageSize</td> <td>Int</td> <td>否</td> <td>20</td> <td>条数</td></tr> <tr><td>current</td> <td>Int</td> <td>否</td> <td>1</td> <td>当前页数</td></tr></tbody></table> <h4 id="返回参数-2">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>productList</td> <td>ProductItemType</td> <td></td> <td>产品列表详情</td></tr> <tr><td>pagination</td> <td>PaginationType</td> <td></td> <td>分页信息</td></tr></tbody></table> <h4 id="productitemtype参数说明">ProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>产品图片</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>11.20</td> <td>商品单价</td></tr> <tr><td>actualPrice</td> <td>Decimal</td> <td>11.20</td> <td>实际售价</td></tr> <tr><td>storage</td> <td>Int</td> <td>999</td> <td>商品库存</td></tr></tbody></table> <h4 id="paginationtype参数说明">PaginationType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>current</td> <td>Int</td> <td>1</td> <td>当前页数</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>20</td> <td>条数</td></tr> <tr><td>total</td> <td>Int</td> <td>48</td> <td>总数</td></tr></tbody></table> <h4 id="示例-3">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/queryByStore?current=1&amp;pageSize=20&amp;signatureNonce=349sjf2j334j&amp;timestamp=1243324234&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;productList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">1.50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actualPrice&quot;</span><span class="token operator">:</span> <span class="token number">1.50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;storage&quot;</span><span class="token operator">:</span> <span class="token number">23</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取客用品代码列表">获取客用品代码列表</h3> <p>获取客用品分类代码列表。</p> <blockquote><p>GET /v1/goods/queryRoomItemsCodeList</p></blockquote> <h4 id="返回参数-3">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>version</td> <td>Int</td> <td>20190828</td> <td>当前分类版本号</td></tr> <tr><td>RoomItemsCodeList</td> <td>List&lt;RoomItemsCodeType&gt;</td> <td></td> <td>客用品分类代码列表</td></tr></tbody></table> <h4 id="roomitemscodetype参数说明">RoomItemsCodeType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>Int</td> <td>10001</td> <td>客需品对应类别id</td></tr> <tr><td>categoryId</td> <td>Int</td> <td>1</td> <td>客需品类别id,1-洗护用品;2-生活用品</td></tr> <tr><td>comment</td> <td>String</td> <td>沐浴露</td> <td>客需品对应分类名称</td></tr></tbody></table> <h4 id="示例-4">示例</h4> <p>请求参数
https://open-api.yunjiai.cn/v1/goods/queryRoomItemsCode?signatureNonce=349sjf2j334j&amp;timestamp=1243324234&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">20190828</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomItemsCodeList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;沐浴露&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10002</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;洗发水&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">20001</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;免费水&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="根据客用品代码获取对应分类商品列表">根据客用品代码获取对应分类商品列表</h4> <p>根据客用品代码获取对应门店下分类商品列表，注意：支持分页，每页最多返回100条,默认值为20,页码从1开始，默认为第一页。</p> <blockquote><p>GET /v1/goods/queryByRoomItemsCode</p></blockquote> <h4 id="请求参数-5">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>roomItemsCode</td> <td>Int</td> <td>是</td> <td>10001</td> <td>客用品分类代码</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>否</td> <td>20</td> <td>条数，默认值20</td></tr> <tr><td>current</td> <td>Int</td> <td>否</td> <td>1</td> <td>当前页数，默认值1</td></tr></tbody></table> <h4 id="返回参数-4">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>productList</td> <td>ProductItemType</td> <td></td> <td>产品列表详情</td></tr> <tr><td>pagination</td> <td>PaginationType</td> <td></td> <td>分页信息</td></tr></tbody></table> <h4 id="productitemtype参数说明-2">ProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>产品图片</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>11.20</td> <td>商品单价</td></tr> <tr><td>actualPrice</td> <td>Decimal</td> <td>11.20</td> <td>实际售价</td></tr> <tr><td>storage</td> <td>Int</td> <td>999</td> <td>商品库存</td></tr></tbody></table> <h4 id="paginationtype参数说明-2">PaginationType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>current</td> <td>Int</td> <td>1</td> <td>当前页数</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>20</td> <td>条数</td></tr> <tr><td>total</td> <td>Int</td> <td>48</td> <td>总数</td></tr></tbody></table> <h4 id="示例-5">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/queryByRoomItemsCode?roomItemsCode=10001&amp;current=1&amp;pageSize=20&amp;signatureNonce=349sjf2j334j&amp;timestamp=1243324234&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;productList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">1.50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actualPrice&quot;</span><span class="token operator">:</span> <span class="token number">1.50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;storage&quot;</span><span class="token operator">:</span> <span class="token number">23</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="用户">用户</h2> <h3 id="创建用户标识">创建用户标识</h3> <p>客户可根据自己所拥有的唯一标识(房间号，设备号)生成在平台生成唯一用户标识，如有填写手机号或用户名等需求，可对应输入相应字段进行注册</p> <blockquote><p>POST /v1/user/createUser</p></blockquote> <h4 id="请求参数-6">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>uidKey</td> <td>String</td> <td>是</td> <td>0802</td> <td>用户唯一标志，可以是手机号也可以是房间号，系统将根据改字段生成用户id</td></tr> <tr><td>mobilePhone</td> <td>String</td> <td>否</td> <td>86-178398290238</td> <td>用户手机号</td></tr> <tr><td>userName</td> <td>String</td> <td>否</td> <td>张三</td> <td>指定用户名</td></tr></tbody></table> <h4 id="返回参数-5">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>userId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>用户唯一标识</td></tr></tbody></table> <h4 id="示例-6">示例</h4> <p>请求参数</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uidKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0802&quot;</span><span class="token punctuation">,</span>
     <span class="token comment">/* 公共请求参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uidKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/13/2019, 7:27:50 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/open-api/assets/js/app.f02834f0.js" defer></script><script src="/open-api/assets/js/2.c9ee0c9e.js" defer></script><script src="/open-api/assets/js/5.f6565a62.js" defer></script>
  </body>
</html>
