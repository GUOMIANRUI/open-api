<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>机器人服务生开放接口文档 | 机器人服务生开放接口文档</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/open-api/assets/css/0.styles.409592ba.css" as="style"><link rel="preload" href="/open-api/assets/js/app.35ffb69d.js" as="script"><link rel="preload" href="/open-api/assets/js/2.c9ee0c9e.js" as="script"><link rel="preload" href="/open-api/assets/js/5.2fd23e20.js" as="script"><link rel="prefetch" href="/open-api/assets/js/3.7b172189.js"><link rel="prefetch" href="/open-api/assets/js/4.d592681e.js"><link rel="prefetch" href="/open-api/assets/js/6.ff34924e.js">
    <link rel="stylesheet" href="/open-api/assets/css/0.styles.409592ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/open-api/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">机器人服务生开放接口文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>机器人服务生开放接口文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/open-api/#调用方式" class="sidebar-link">调用方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#请求结构" class="sidebar-link">请求结构</a></li><li class="sidebar-sub-header"><a href="/open-api/#公共参数" class="sidebar-link">公共参数</a></li><li class="sidebar-sub-header"><a href="/open-api/#计算签名" class="sidebar-link">计算签名</a></li><li class="sidebar-sub-header"><a href="/open-api/#返回结果" class="sidebar-link">返回结果</a></li></ul></li><li><a href="/open-api/#订单" class="sidebar-link">订单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#创建商品订单" class="sidebar-link">创建商品订单</a></li><li class="sidebar-sub-header"><a href="/open-api/#根据订单号查询订单" class="sidebar-link">根据订单号查询订单</a></li><li class="sidebar-sub-header"><a href="/open-api/#根据用户id查询订单详情" class="sidebar-link">根据用户id查询订单详情</a></li><li class="sidebar-sub-header"><a href="/open-api/#取消订单" class="sidebar-link">取消订单</a></li></ul></li><li><a href="/open-api/#商品" class="sidebar-link">商品</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#获取全部商品列表" class="sidebar-link">获取全部商品列表</a></li><li class="sidebar-sub-header"><a href="/open-api/#获取全部分组商品" class="sidebar-link">获取全部分组商品</a></li><li class="sidebar-sub-header"><a href="/open-api/#获取客用品代码列表" class="sidebar-link">获取客用品代码列表</a></li><li class="sidebar-sub-header"><a href="/open-api/#根据客用品代码获取对应分类商品列表" class="sidebar-link">根据客用品代码获取对应分类商品列表</a></li></ul></li><li><a href="/open-api/#用户" class="sidebar-link">用户</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#创建用户标识" class="sidebar-link">创建用户标识</a></li></ul></li><li><a href="/open-api/#地点" class="sidebar-link">地点</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/open-api/#根据送货类型返回门店下所有点位" class="sidebar-link">根据送货类型返回门店下所有点位</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/open-api/#消息推送" class="sidebar-link">消息推送</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/open-api/#任务异常处理" class="sidebar-link">任务异常处理</a></li><li class="sidebar-sub-header"><a href="/open-api/#到达目的地回调通知" class="sidebar-link">到达目的地回调通知</a></li><li class="sidebar-sub-header"><a href="/open-api/#订单下货通知" class="sidebar-link">订单下货通知</a></li><li class="sidebar-sub-header"><a href="/open-api/#订单任务完成通知" class="sidebar-link">订单任务完成通知</a></li></ul></li><li><a href="/open-api/#错误码" class="sidebar-link">错误码</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="机器人服务生开放接口文档">机器人服务生开放接口文档</h1> <h2 id="调用方式">调用方式</h2> <h3 id="请求结构">请求结构</h3> <h4 id="接入地址">接入地址</h4> <p>开放接口服务的接入地址为：<code>https://open-api.yunjiai.cn</code>
测试环境接口服务的接入地址为：<code>https://dev-open-api.yunjiai.cn</code></p> <h4 id="通信协议">通信协议</h4> <p>为了保证通信的安全性，开放接口服务仅支持HTTPS安全通道发送请求。</p> <h4 id="http请求方法">HTTP请求方法</h4> <p>接口支持HTTP POST,GET方法发送请求,其中GET请求URL时，须对URL进行urlencode。</p> <h4 id="请求参数">请求参数</h4> <p>每个请求都需要指定如下信息：</p> <ul><li>操作接口所特有的请求参数。</li></ul> <h3 id="公共参数">公共参数</h3> <h4 id="公共请求参数">公共请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必需</th> <th>描述</th></tr></thead> <tbody><tr><td>signature</td> <td>String</td> <td>是</td> <td>消息签名</td></tr> <tr><td>signatureNonce</td> <td>String</td> <td>是</td> <td>唯一随机数</td></tr> <tr><td>accessKeyId</td> <td>String</td> <td>是</td> <td>访问秘钥</td></tr> <tr><td>timestamp</td> <td>String</td> <td>是</td> <td>请求时间戳，日期格式按照ISO8601标准表示，并需要使用UTC时间。格式为：YYYY-MM-DDThh:mm:ssZ</td></tr></tbody></table> <h4 id="公共返回参数">公共返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>请求ID.无论成功与否，系统都会返回一个唯一的识别码给用户。此参数用于识别每一次请求</td></tr></tbody></table> <h4 id="请求示例">请求示例</h4> <h4 id="返回示例">返回示例</h4> <div class="language-json extra-class"><pre class="language-json"><code>｛
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span>
 ｝
</code></pre></div><h3 id="计算签名">计算签名</h3> <p>开放平台会对每一个访问的请求进行身份认证，每一个请求都需要在请求中包含签名信息。通过机器人服务生系统颁发的<code>accessKeyId</code>和<code>accessKeySecret</code>进行对称加密的方法来验证请求的发送者身份，其中accessKeyId用于标识访问者的身份，accessKeySecret用于加密签名字符串和服务器端验证签名字符串的秘钥，请开发者妥善保管，以防泄露。</p> <h4 id="操作步骤">操作步骤</h4> <ul><li>使用请求参数构造规范化的请求字符串，特别注意以下规则：
<ul><li>对参数按照key=value的格式，并按照参数名ASCII字典序，排序参数包括公共参数和接口自定义参数。不包括公共请求参数中的<strong>signature</strong>参数；</li> <li>如果参数的值为空不参与签名；</li> <li>参数名区分大小写；</li></ul></li> <li>计算签名HMAC值。注意计算签名时使用的Key就是用户持有的<code>accessKeySecret</code>并加上一个“&amp;”字符,使用的哈希算法是SHA1。</li> <li>按照Base64编码规则将HMAC值编码成字符串，得到签名值。</li> <li>将签名值作为<code>signature</code>添加到请求参数中。</li></ul> <h4 id="执行示例">执行示例</h4> <p>以创建用户uid为例，假设传送的参数如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uidKey&quot;</span><span class="token operator">:</span><span class="token string">&quot;0802&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signatureNonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53c593e7-766d-4646-8b58-0b795ded0ed6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accessKeyId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testid&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-10T08:26:01Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>对参数按照key=value的格式，并按照参数名ASCII字典序排序如下：
<code>accessKeyId=testid&amp;signatureNonce=53c593e7-766d-4646-8b58-0b795ded0ed6&amp;timestamp=2019-10-10T08:26:01Z&amp;uidKey=0802</code></li></ul> <p>假设accessKeyId为<code>testId</code>，accessKeySecret为<code>testsecret</code>,则用于计算的HMAC的key为：<code>testsecret&amp;</code>。
计算得到的签名值为：<code>VQAdXELyv7rl/6E4bj1VdV4X6vI=</code></p> <p>最终得到的发送数据为：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uidKey&quot;</span><span class="token operator">:</span><span class="token string">&quot;0802&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VQAdXELyv7rl/6E4bj1VdV4X6vI=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signatureNonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53c593e7-766d-4646-8b58-0b795ded0ed6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accessKeyId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testId&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-10T08:26:01Z&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>相关语言生成验签示例：</p> <table><thead><tr><th>实现语言</th> <th>文件</th></tr></thead> <tbody><tr><td>Java</td> <td><a href="https://github.com/yunji-ai/open-api/blob/master/examples/JavaSign.java" target="_blank" rel="noopener noreferrer">JavaSign.java<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>PHP</td> <td><a href="https://github.com/yunji-ai/open-api/examples/PHPSIgn.php" target="_blank" rel="noopener noreferrer">PHPSign.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>.Net</td> <td><a href="https://github.com/yunji-ai/open-api/examples/.NetSign.cs" target="_blank" rel="noopener noreferrer">.NetSign.cs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>JavaScript</td> <td><a href="https://github.com/yunji-ai/open-api/blob/master/examples/JavaScriptSign.js" target="_blank" rel="noopener noreferrer">JavaScriptSign.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>Python</td> <td><a href="https://github.com/yunji-ai/open-api/blob/master/examples/pythonSign.py" target="_blank" rel="noopener noreferrer">pythonSign.py<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>C</td> <td><a href="https://github.com/yunji-ai/open-api/examples/CSign.c" target="_blank" rel="noopener noreferrer">CSign.c<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>C++</td> <td><a href="https://github.com/yunji-ai/open-api/examples/C++Sign.cc" target="_blank" rel="noopener noreferrer">C++Sign.cc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>Go</td> <td><a href="https://github.com/yunji-ai/open-api/examples/goSign.go" target="_blank" rel="noopener noreferrer">goSign.go<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <h3 id="返回结果">返回结果</h3> <h4 id="成功结果">成功结果</h4> <p>调用开放平台API后，如果返回的HTTP状态码为:<code>2xx</code>,代表调用成功。</p> <ul><li>返回示例</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="错误结果">错误结果</h4> <p>如果返回的HTTP状态码为: <code>4xx</code>或<code>500</code>,代表调用失败，系统将不会返回结果数据。此时，返回的消息体中包含:具体的错误代码、错误信息、全局唯一的请求id.</p> <ul><li>返回示例</li></ul> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token punctuation">{</span>
      <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span><span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10086</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;action is not valid&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="订单">订单</h2> <h3 id="创建商品订单">创建商品订单</h3> <p>根据所选商品id创建订单，返回订单唯一标识符</p> <blockquote><p>POST /v1/order/createPoiOrder</p></blockquote> <h4 id="请求参数-2">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>userId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>用户唯一标识，可通过创建用户接口创建</td></tr> <tr><td>storeId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>orderFormInfo</td> <td>List&lt;OrderFormInfoType&gt;</td> <td>是</td> <td></td> <td>订单信息</td></tr> <tr><td>thirdPayType</td> <td>Int</td> <td>是</td> <td>3</td> <td>3：预付</td></tr> <tr><td>amount</td> <td>Decimal</td> <td>是</td> <td>12.0</td> <td>订单实际支付总金额</td></tr> <tr><td>contactInfo</td> <td>ContactInfoType</td> <td>是</td> <td></td> <td>订单联系人信息</td></tr></tbody></table> <h4 id="orderforminfotype参数说明">OrderFormInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品Id</td></tr> <tr><td>quantity</td> <td>Int</td> <td>是</td> <td>1</td> <td>商品购买数量</td></tr></tbody></table> <h4 id="contactinfotype参数说明">ContactInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>recipientAddress</td> <td>String</td> <td>是</td> <td>0701</td> <td>酒店唯一房间编号，应与机器人点位一一对应，如对应不上，将返回报错</td></tr> <tr><td>recipientPhone</td> <td>String</td> <td>否</td> <td>16612561256</td> <td>预订人手机号</td></tr> <tr><td>recipientName</td> <td>String</td> <td>否</td> <td>张三</td> <td>预订人姓名</td></tr></tbody></table> <h4 id="返回数据">返回数据</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>orderInfo</td> <td>OrderInfoType</td> <td></td> <td>订单信息</td></tr></tbody></table> <h4 id="orderinfotype参数说明">OrderInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单号</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>创建时间</td></tr> <tr><td>orderTaskInfos</td> <td>List&lt;OrderTaskInfoType&gt;</td> <td></td> <td>订单任务信息</td></tr></tbody></table> <h4 id="ordertaskinfotype参数说明">OrderTaskInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderTaskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>订单子任务Id</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>任务创建时间</td></tr></tbody></table> <h4 id="示例">示例</h4> <p>请求示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">12.0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderFormInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;thirdPayType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contactInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;recipientAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0821&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/* 公共请求参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderTaskInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;orderTaskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="根据订单号查询订单">根据订单号查询订单</h3> <blockquote><p>GET /v1/order/queryByOrderSN</p></blockquote> <h4 id="请求参数-3">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>是</td> <td>1274692748</td> <td>订单号</td></tr></tbody></table> <h4 id="返回参数">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>orderInfo</td> <td>OrderInfoType</td> <td></td> <td>订单ID</td></tr></tbody></table> <h4 id="orderinfotype参数说明-2">OrderInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>1467803671</td> <td>订单唯一标识</td></tr> <tr><td>orderName</td> <td>String</td> <td>矿泉水 * 1</td> <td>订单名称</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>订单创建时间</td></tr> <tr><td>orderStatus</td> <td>Int</td> <td>0</td> <td>订单若无退订，订单最终状态为成交</td></tr> <tr><td>orderItemInfos</td> <td>List&lt;OrderItemInfoType&gt;</td> <td></td> <td>订单项信息</td></tr> <tr><td>orderTaskInfos</td> <td>List&lt;OrderTaskInfoType&gt;</td> <td></td> <td>订单任务信息</td></tr> <tr><td>orderBasicInfo</td> <td>OrderBasicInfoType</td> <td></td> <td>订单基本信息</td></tr> <tr><td>extendProperty</td> <td>ExtendPropertyType</td> <td></td> <td>订单扩展信息</td></tr></tbody></table> <h4 id="orderiteminfotype参数说明">OrderItemInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>图片地址</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品id</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productType</td> <td>Int</td> <td>1</td> <td>商品类型:1-普通商品,2-赠品,3-客需品</td></tr> <tr><td>amount</td> <td>Decimal</td> <td>3.00</td> <td>商品总卖价</td></tr> <tr><td>quantity</td> <td>Int</td> <td>2</td> <td>数量</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>150</td> <td>单价，单位为分</td></tr></tbody></table> <h4 id="ordertaskinfotype参数说明-2">OrderTaskInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderTaskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>订单子任务Id</td></tr> <tr><td>detail</td> <td>List&lt;DetailType&gt;</td> <td></td> <td>备注</td></tr> <tr><td>processStatus</td> <td>Int</td> <td>1</td> <td>任务状态</td></tr> <tr><td>taskType</td> <td>Int</td> <td>1</td> <td>任务类型,0-发货员协同派送 1-机器人自动派送 2-货柜机器人派送 3-无需派送</td></tr> <tr><td>admissionCertificate</td> <td>String</td> <td>1923</td> <td>数字凭证或取物码，当商户在后台配置商品需通过取物码取货时，该字段将返回</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>任务创建时间</td></tr></tbody></table> <h4 id="detailtype参数说明">DetailType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>商品缩略图</td></tr> <tr><td>quantity</td> <td>Int</td> <td>1</td> <td>商品数量</td></tr></tbody></table> <h4 id="orderbasicinfotype参数说明">OrderBasicInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>amount</td> <td>Decimal</td> <td>1.50</td> <td>原始下单总价(不变)</td></tr></tbody></table> <h4 id="extendpropertytype参数说明">ExtendPropertyType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>recipientAddress</td> <td>String</td> <td>0801</td> <td>房间号</td></tr> <tr><td>recipientPhone</td> <td>String</td> <td>12312341234</td> <td>收货人电话</td></tr> <tr><td>recipientName</td> <td>String</td> <td>张三</td> <td>若用户没有填写姓名，此字段默认为空</td></tr></tbody></table> <h4 id="订单状态对应关系">订单状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>未付款</td></tr> <tr><td>1</td> <td>待发货</td></tr> <tr><td>2</td> <td>待收货</td></tr> <tr><td>3</td> <td>已收货</td></tr> <tr><td>5</td> <td>已取消</td></tr> <tr><td>6</td> <td>退款中</td></tr> <tr><td>7</td> <td>已退款</td></tr> <tr><td>8</td> <td>已关闭</td></tr></tbody></table> <h4 id="任务状态对应关系">任务状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>排队中</td></tr> <tr><td>1</td> <td>送货中</td></tr> <tr><td>3</td> <td>任务取消</td></tr> <tr><td>4</td> <td>用户未取物</td></tr> <tr><td>5</td> <td>取货中</td></tr> <tr><td>6</td> <td>已取货</td></tr> <tr><td>7</td> <td>任务异常</td></tr> <tr><td>8</td> <td>任务失败</td></tr></tbody></table> <h4 id="示例-2">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/order/queryByOrderSN?<br>
orderSN=32938472<br>
&amp;signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced<br></p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水 * 1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderStatus&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderItemInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/sd23.png&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
                <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">250</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderTaskInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;orderTaskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;processStatus&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taskType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;admissionCertificate&quot;</span><span class="token operator">:</span> <span class="token number">1212</span><span class="token punctuation">,</span>
                <span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                      <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderBasicInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;extendProperty&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;recipientAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0801&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="根据用户id查询订单详情">根据用户id查询订单详情</h3> <blockquote><p>GET /v1/order/queryByUserId</p></blockquote> <h4 id="请求参数-4">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>userId</td> <td>String</td> <td>是</td> <td>12740139d33520a68947c6bee3c0692748</td> <td>用户唯一标识</td></tr></tbody></table> <h4 id="返回参数-2">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>orderInfoList</td> <td>List&lt;OrderInfoType&gt;</td> <td></td> <td>查询订单详情集合</td></tr></tbody></table> <h4 id="orderinfotype参数说明-3">OrderInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>1467803671</td> <td>订单唯一标识</td></tr> <tr><td>orderName</td> <td>String</td> <td>矿泉水 * 1</td> <td>订单名称</td></tr> <tr><td>createDate</td> <td>String</td> <td>2019-10-01T12:00:18Z</td> <td>订单创建时间</td></tr> <tr><td>orderStatus</td> <td>Int</td> <td>0</td> <td>订单若无退订，订单最终状态为成交</td></tr> <tr><td>orderItemInfos</td> <td>List&lt;OrderItemInfoType&gt;</td> <td></td> <td>订单项信息</td></tr> <tr><td>orderTaskInfos</td> <td>List&lt;OrderTaskInfoType&gt;</td> <td></td> <td>订单任务信息</td></tr> <tr><td>orderBasicInfo</td> <td>OrderBasicInfoType</td> <td></td> <td>订单基本信息</td></tr> <tr><td>extendProperty</td> <td>ExtendPropertyType</td> <td></td> <td>订单扩展信息</td></tr></tbody></table> <h4 id="orderiteminfotype参数说明-2">OrderItemInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>图片地址</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品id</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productType</td> <td>Int</td> <td>1</td> <td>商品类型:1-普通商品,2-赠品,3-客需品</td></tr> <tr><td>amount</td> <td>Decimal</td> <td>3.00</td> <td>商品总卖价</td></tr> <tr><td>quantity</td> <td>Int</td> <td>2</td> <td>数量</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>150</td> <td>单价,单位为分</td></tr></tbody></table> <h4 id="ordertaskinfotype参数说明-3">OrderTaskInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderTaskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>订单子任务Id</td></tr> <tr><td>detail</td> <td>List&lt;DetailType&gt;</td> <td></td> <td>备注</td></tr> <tr><td>processStatus</td> <td>Int</td> <td>1</td> <td>任务状态</td></tr> <tr><td>taskType</td> <td>Int</td> <td>1</td> <td>任务类型,0-发货员协同派送 1-机器人自动派送 2-货柜机器人派送 3-无需派送</td></tr> <tr><td>admissionCertificate</td> <td>String</td> <td>1923</td> <td>数字凭证或取物码，当商户在后台配置商品需通过取物码取货时，该字段将返回</td></tr></tbody></table> <h4 id="detailtype参数说明-2">DetailType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/757a19.png</td> <td>商品缩略图</td></tr> <tr><td>quantity</td> <td>Int</td> <td>1</td> <td>商品数量</td></tr></tbody></table> <h4 id="orderbasicinfotype参数说明-2">OrderBasicInfoType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>amount</td> <td>Decimal</td> <td>1.50</td> <td>原始下单总价(不变)</td></tr></tbody></table> <h4 id="extendpropertytype参数说明-2">ExtendPropertyType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>recipientAddress</td> <td>String</td> <td>0801</td> <td>房间号</td></tr> <tr><td>recipientPhone</td> <td>String</td> <td>12312341234</td> <td>收货人电话</td></tr> <tr><td>recipientName</td> <td>String</td> <td>张三</td> <td>若用户没有填写姓名，此字段默认为空</td></tr></tbody></table> <h4 id="订单状态对应关系-2">订单状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>未付款</td></tr> <tr><td>1</td> <td>待发货</td></tr> <tr><td>2</td> <td>待收货</td></tr> <tr><td>3</td> <td>已收货</td></tr> <tr><td>5</td> <td>已取消</td></tr> <tr><td>6</td> <td>退款中</td></tr> <tr><td>7</td> <td>已退款</td></tr> <tr><td>8</td> <td>已关闭</td></tr></tbody></table> <h4 id="任务状态对应关系-2">任务状态对应关系</h4> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>排队中</td></tr> <tr><td>1</td> <td>送货中</td></tr> <tr><td>3</td> <td>任务取消</td></tr> <tr><td>4</td> <td>用户未取物</td></tr> <tr><td>5</td> <td>取货中</td></tr> <tr><td>6</td> <td>已取货</td></tr> <tr><td>7</td> <td>任务异常</td></tr> <tr><td>8</td> <td>任务失败</td></tr></tbody></table> <h4 id="示例-3">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/order/queryByOrderSN?<br>
orderSN=32938472<br>
&amp;signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced<br></p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水 * 1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-10-01T12:00:18Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderStatus&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderItemInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/sd23.png&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
                <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">250</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderTaskInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;orderTaskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;processStatus&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taskType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;admissionCertificate&quot;</span><span class="token operator">:</span> <span class="token number">1212</span><span class="token punctuation">,</span>
                <span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;orderBasicInfos&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">5.00</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;extendProperty&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;recipientAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0801&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="取消订单">取消订单</h3> <p>如果订单任务处于异常或用户需要进行退款操作，可调用此接口将订单标记为已取消状态。该订单下的所有未配送任务将标记为取消，不再进行配送</p> <blockquote><p>POST /v1/order/cancel</p></blockquote> <h4 id="请求参数-5">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>orderSN</td> <td>Long</td> <td>是</td> <td>223445452233</td> <td>订单唯一标识</td></tr> <tr><td>reason</td> <td>String</td> <td>是</td> <td>机器人送货失败</td> <td>取消原因</td></tr></tbody></table> <h4 id="返回数据-2">返回数据</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>code</td> <td>Int</td> <td>200</td> <td>操作处理结果，成功则返回200</td></tr> <tr><td>message</td> <td>String</td> <td>SUCCESS</td> <td>操作信息，错误讲返回错误信息</td></tr></tbody></table> <h4 id="示例-4">示例</h4> <p>请求示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/* 公共请求参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="商品">商品</h2> <h3 id="获取全部商品列表">获取全部商品列表</h3> <p>获取产品列表，注意：支持分页，每页最多返回100条,默认值为20,页码从1开始，默认为第一页</p> <blockquote><p>GET /v1/goods/queryByStore</p></blockquote> <h4 id="请求参数-6">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>否</td> <td>20</td> <td>条数</td></tr> <tr><td>current</td> <td>Int</td> <td>否</td> <td>1</td> <td>当前页数</td></tr></tbody></table> <h4 id="返回参数-3">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>productList</td> <td>List&lt;ProductItemType&gt;</td> <td></td> <td>产品列表详情</td></tr> <tr><td>pagination</td> <td>PaginationType</td> <td></td> <td>分页信息</td></tr></tbody></table> <h4 id="productitemtype参数说明">ProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>产品图片</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>1120</td> <td>商品单价，单位为分</td></tr> <tr><td>actualPrice</td> <td>Decimal</td> <td>1120</td> <td>实际售价，单位为分</td></tr> <tr><td>storage</td> <td>Int</td> <td>999</td> <td>商品库存</td></tr></tbody></table> <h4 id="paginationtype参数说明">PaginationType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>current</td> <td>Int</td> <td>1</td> <td>当前页数</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>20</td> <td>条数</td></tr> <tr><td>total</td> <td>Int</td> <td>48</td> <td>总数</td></tr></tbody></table> <h4 id="示例-5">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/queryByStore?<br>current=1<br>
&amp;pageSize=20<br>
&amp;signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced<br>
&amp;storeId=5a38d03a60b6286d9c544f58</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;productList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actualPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
            <span class="token property">&quot;storage&quot;</span><span class="token operator">:</span> <span class="token number">23</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取全部分组商品">获取全部分组商品</h3> <p>获取门店所有分组下的分组详情和分组下所包含的商品详情列表</p> <blockquote><p>GET /v1/goods/group/list</p></blockquote> <h4 id="请求参数-7">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr></tbody></table> <h4 id="返回参数-4">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>groupProductList</td> <td>List&lt;GroupProductItemType&gt;</td> <td></td> <td>产品列表详情</td></tr></tbody></table> <h4 id="groupproductitemtype参数说明">GroupProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>groupName</td> <td>String</td> <td>矿泉水</td> <td>商品分组名称</td></tr> <tr><td>groupId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品分组id</td></tr> <tr><td>groupImageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>如果商品分组下拥有分组图标，则返回该图标url,未设置则返回为空</td></tr> <tr><td>lowestSellingPrice</td> <td>Int</td> <td>0</td> <td>该分组下最低销售价格，默认为0，单位为分</td></tr> <tr><td>sort</td> <td>Int</td> <td>1</td> <td>商品分组排序权重值</td></tr> <tr><td>productList</td> <td>List&lt;ProductItemType&gt;</td> <td></td> <td>分组下商品详情</td></tr></tbody></table> <h4 id="productitemtype参数说明-2">ProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>产品图片</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>1120</td> <td>商品单价，单位为分</td></tr> <tr><td>actualPrice</td> <td>Decimal</td> <td>1120</td> <td>实际售价，单位为分</td></tr> <tr><td>storage</td> <td>Int</td> <td>999</td> <td>商品库存</td></tr></tbody></table> <h4 id="示例-6">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/queryByStore?
&amp;signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced<br>
&amp;storeId=5a38d03a60b6286d9c544f58</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;groupProductList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;groupName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;饮品&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;groupId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;groupImageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lowestSellingPrice&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;productList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;actualPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;storage&quot;</span><span class="token operator">:</span> <span class="token number">23</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取客用品代码列表">获取客用品代码列表</h3> <p>获取客用品分类代码列表。</p> <blockquote><p>GET /v1/goods/guestSuppliesList</p></blockquote> <h4 id="返回参数-5">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>version</td> <td>Int</td> <td>20190828</td> <td>当前分类版本号</td></tr> <tr><td>guestSuppliesList</td> <td>List&lt;GuestSuppliesListType&gt;</td> <td></td> <td>客用品分类代码列表</td></tr></tbody></table> <h4 id="guestsupplieslisttype参数说明">GuestSuppliesListType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>Int</td> <td>10001</td> <td>客需品对应类别id</td></tr> <tr><td>categoryId</td> <td>Int</td> <td>1</td> <td>客需品类别id,1-洗护用品;2-生活用品</td></tr> <tr><td>comment</td> <td>String</td> <td>沐浴露</td> <td>客需品对应分类名称</td></tr></tbody></table> <h4 id="示例-7">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/guestSuppliesList?<br>
signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">20190828</span><span class="token punctuation">,</span>
    <span class="token property">&quot;guestSuppliesList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;沐浴露&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">10002</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;洗发水&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">20001</span><span class="token punctuation">,</span>
            <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;免费水&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="根据客用品代码获取对应分类商品列表">根据客用品代码获取对应分类商品列表</h3> <p>根据客用品代码获取对应门店下分类商品列表，注意：支持分页，每页最多返回100条,默认值为20,页码从1开始，默认为第一页。</p> <blockquote><p>GET /v1/goods/queryByGuestSuppliesCode</p></blockquote> <h4 id="请求参数-8">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>guestSuppliesCode</td> <td>Int</td> <td>是</td> <td>10001</td> <td>客用品分类代码</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>否</td> <td>20</td> <td>条数，默认值20</td></tr> <tr><td>current</td> <td>Int</td> <td>否</td> <td>1</td> <td>当前页数，默认值1</td></tr></tbody></table> <h4 id="返回参数-6">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>productList</td> <td>List&lt;ProductItemType&gt;</td> <td></td> <td>产品列表详情</td></tr> <tr><td>pagination</td> <td>PaginationType</td> <td></td> <td>分页信息</td></tr></tbody></table> <h4 id="productitemtype参数说明-3">ProductItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>productName</td> <td>String</td> <td>矿泉水</td> <td>商品名称</td></tr> <tr><td>productId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>商品唯一标识</td></tr> <tr><td>imageUrl</td> <td>String</td> <td>http://images.sp.yunjichina.com.cn/goods/s.png</td> <td>产品图片</td></tr> <tr><td>unitPrice</td> <td>Decimal</td> <td>1120</td> <td>商品单价,单位为分</td></tr> <tr><td>actualPrice</td> <td>Decimal</td> <td>1120</td> <td>实际售价，单位为分</td></tr> <tr><td>storage</td> <td>Int</td> <td>999</td> <td>商品库存</td></tr></tbody></table> <h4 id="paginationtype参数说明-2">PaginationType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>current</td> <td>Int</td> <td>1</td> <td>当前页数</td></tr> <tr><td>pageSize</td> <td>Int</td> <td>20</td> <td>条数</td></tr> <tr><td>total</td> <td>Int</td> <td>48</td> <td>总数</td></tr></tbody></table> <h4 id="示例-8">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/goods/queryByGuestSuppliesCode?<br>
guestSuppliesCode=10001<br>
&amp;current=1<br>
&amp;pageSize=20<br>
&amp;signatureNonce=349sjf2j334j<br>
&amp;timestamp=2019-10-10T08:26:01Z<br>
&amp;sign=39bcfd48c3dd6fbcc19eead125917971e9bf2d61<br>
&amp;accessKeyId=c0a55b403ac0f7ac9e63c93ced<br>
&amp;storeId=5a38d03a60b6286d9c544f58<br></p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;productList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;productName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;矿泉水&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;imageUrl&quot;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token string">&quot;http://images.sp.yunjichina.com.cn/goods/s.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unitPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actualPrice&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
            <span class="token property">&quot;storage&quot;</span><span class="token operator">:</span> <span class="token number">23</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pageSize&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="用户">用户</h2> <h3 id="创建用户标识">创建用户标识</h3> <p>客户可根据自己所拥有的唯一标识(房间号，设备号)生成在平台生成唯一用户标识，如有填写手机号或用户名等需求，可对应输入相应字段进行注册</p> <blockquote><p>POST /v1/user/createUser</p></blockquote> <h4 id="请求参数-9">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>uidKey</td> <td>String</td> <td>是</td> <td>0802</td> <td>用户唯一标志，可以是手机号也可以是房间号，系统将根据改字段生成用户id</td></tr> <tr><td>mobilePhone</td> <td>String</td> <td>否</td> <td>86-178398290238</td> <td>用户手机号</td></tr> <tr><td>userName</td> <td>String</td> <td>否</td> <td>张三</td> <td>指定用户名</td></tr> <tr><td>storeId</td> <td>String</td> <td>是</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr></tbody></table> <h4 id="返回参数-7">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>userId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>用户唯一标识</td></tr></tbody></table> <h4 id="示例-9">示例</h4> <p>请求参数</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span><span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uidKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0802&quot;</span><span class="token punctuation">,</span>
     <span class="token comment">/* 公共请求参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="地点">地点</h2> <h2 id="根据送货类型返回门店下所有点位">根据送货类型返回门店下所有点位</h2> <blockquote><p>GET /v1/position/query</p></blockquote> <h4 id="请求参数-10">请求参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>是否必选</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>type</td> <td>Int</td> <td>是</td> <td>1</td> <td>任务类型 1-送物</td></tr></tbody></table> <h4 id="返回参数-8">返回参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>requestId</td> <td>String</td> <td>0139d33c-5204-4a6a-8830-9947c6bee3c0</td> <td>请求id</td></tr> <tr><td>positions</td> <td>List&lt;PositionItemType&gt;</td> <td></td> <td>点位列表详情</td></tr></tbody></table> <h4 id="positionitemtype参数说明">PositionItemType参数说明</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>name</td> <td>String</td> <td>8291</td> <td>点位名称，唯一标识</td></tr> <tr><td>type</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>点位类型，0-正常，1-充电桩，2-电梯</td></tr></tbody></table> <h4 id="示例-10">示例</h4> <p>请求参数</p> <p>https://open-api.yunjiai.cn/v1/position/query?type=1</p> <p>正常返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;requestId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;positions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8291&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="消息推送">消息推送</h2> <p>回调接口统一使用http post或https post方式，但我们十分建议您同时将其配置为https地址，未来会择期要求全部开发者升级到https方式，contentType 为“application/x-www-form-urlencoded”，端口号仅支持80或8080</p> <h3 id="任务异常处理">任务异常处理</h3> <p>当服务生系统执行任务时发生了失败或异常时，如在后台管理系统配置了该消息的回调接口，将推送该消息。</p> <h4 id="推送参数">推送参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单唯一标识</td></tr> <tr><td>taskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>失败任务id</td></tr> <tr><td>errorCode</td> <td>Int</td> <td>1290</td> <td>失败错误码</td></tr> <tr><td>errorMsg</td> <td>String</td> <td>出货失败</td> <td>失败错误信息</td></tr> <tr><td>createTime</td> <td>Long</td> <td>1575629914274</td> <td>推送时间戳，格式为UTC</td></tr></tbody></table> <h4 id="推送示例">推送示例</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token number">10086</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorMsg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;出货失败&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span><span class="token number">1575629914274</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="到达目的地回调通知">到达目的地回调通知</h3> <p>当任务为机器人派送时，如果在后台管理系统配置了该消息的回调接口，将推送该消息</p> <h4 id="推送参数-2">推送参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单唯一标识</td></tr> <tr><td>taskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>失败任务id</td></tr> <tr><td>createTime</td> <td>Long</td> <td>1575629914274</td> <td>推送时间戳，格式为UTC</td></tr></tbody></table> <h4 id="推送示例-2">推送示例</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span><span class="token number">1575629914274</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="订单下货通知">订单下货通知</h3> <p>当任务为货柜任务并开始执行货柜下货任务时，如果在后台管理系统配置了该消息的回调接口，将推送该消息</p> <h4 id="推送参数-3">推送参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识</td></tr> <tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单唯一标识</td></tr> <tr><td>taskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>失败任务id</td></tr> <tr><td>createTime</td> <td>Long</td> <td>1575629914274</td> <td>推送时间戳，格式为UTC</td></tr></tbody></table> <h4 id="推送示例-3">推送示例</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span><span class="token number">1575629914274</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="订单任务完成通知">订单任务完成通知</h3> <p>当任务完成时，如果在后台管理系统配置了该消息的回调接口，将推送该消息</p> <h4 id="推送参数-4">推送参数</h4> <table><thead><tr><th>名称</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>storeId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>门店唯一标识，账户分配</td></tr> <tr><td>orderSN</td> <td>Long</td> <td>223445452233</td> <td>订单唯一标识</td></tr> <tr><td>taskId</td> <td>String</td> <td>5a38d03a60b6286d9c544f58</td> <td>失败任务id</td></tr> <tr><td>createTime</td> <td>Long</td> <td>1575629914274</td> <td>推送时间戳，格式为UTC</td></tr></tbody></table> <h4 id="推送示例-4">推送示例</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;storeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0139d33c-5204-4a6a-8830-9947c6bee3c0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderSN&quot;</span><span class="token operator">:</span> <span class="token number">223445452233</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taskId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5a38d03a60b6286d9c544f58&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span><span class="token number">1575629914274</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="错误码">错误码</h2> <table><thead><tr><th>状态码</th> <th>错误码</th> <th>错误说明</th></tr></thead> <tbody><tr><td>10400</td> <td>SystemParametersIndeed</td> <td>系统参数缺失</td></tr> <tr><td>10501</td> <td>RemoteError</td> <td>调用接口失败</td></tr> <tr><td>10502</td> <td>TimestampExpire</td> <td>请求时间戳已经过期</td></tr> <tr><td>10503</td> <td>CalculatedSignatureError</td> <td>计算签名错误</td></tr> <tr><td>11001</td> <td>GoodsOverdue</td> <td>商品已下架</td></tr> <tr><td>11002</td> <td>OffSalePeriod</td> <td>商品不在销售时间段售卖</td></tr> <tr><td>11003</td> <td>InsufficientInventory</td> <td>商品库存不足</td></tr> <tr><td>11004</td> <td>ExceededPurchaseLimit</td> <td>超出商品限购次数</td></tr> <tr><td>11005</td> <td>ProductDoesNotExist</td> <td>商品不存在</td></tr> <tr><td>12001</td> <td>MissingOrderParameters</td> <td>订单房间号缺失</td></tr> <tr><td>12002</td> <td>MissingOrderParameters</td> <td>订单联系人信息缺失</td></tr> <tr><td>12003</td> <td>OrderParameterError</td> <td>订单金额小于门店起送金额</td></tr> <tr><td>12004</td> <td>OrderParameterError</td> <td>订单金额小于商品分类起送金额</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/8/2020, 7:32:39 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/open-api/assets/js/app.35ffb69d.js" defer></script><script src="/open-api/assets/js/2.c9ee0c9e.js" defer></script><script src="/open-api/assets/js/5.2fd23e20.js" defer></script>
  </body>
</html>
